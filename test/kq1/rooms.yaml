pippo:
  a: &a [0,0,316,166]
birdcave:
  batches:
    - "birdcave"
  walkarea:
    poly: [0, 0, 316, 0, 316, 160, 0, 160]
  south: goatpene
  west: rushes
  north: trunkbig
  east: rushes
  items:
    - type: bg
      batch: "birdcave"
      pos: [ 0, 0, -1 ]
      quad: [ 0, 0, 316, 166 ]
bowl:
  batches:
    - "bowl"
  walkarea:
    poly: [0, 0, 316, 0, 316, 121, 0, 121]
  east: rivtrees
  north: pebbles
  west: walnut
  south: elf
  items:
    - type: bg
      batch: "bowl"
      pos: [ 0, 0, -1 ]
      quad: [ 0, 0, 316, 166 ]

  scripts:
    look_bowl: ['look_inventory_item', 'bowl', 51, 0]
    get_bowl: ['pickup', 'bowl', 52, 26]
bridge:
  batches:
    - "bridge"
  walkarea:
    poly: [ 40, 0, 316, 0, 316, 25, 266,25,272,13,262,13,237,66,246,66,254,51,316,51,316, 160, 25, 160, 25,110, 90,110,75,104,56,104,51,95,40,64,40,51,172,51,183,66,191,66,163,16,151,16,157,25,40,25 ]
  north: lake2
  east: stonebri
  south: gnome
  items:
    - type: bg
      batch: "bridge"
      pos: [ 0, 0, -1 ]
      quad: [ 0, 0, 316, 166 ]
    - type: bg      # tree
      batch: "bridge"
      auto_depth: true
      pos: [0, 83, 0]
      quad: [1, 167, 88, 83]
      baseline: [0,0,23,0,35,12,50,12,55,18,55,22,71,22,88,27]
    - type: bg      # tree
      batch: "bridge"
      pos: [48, 64, 0]
      quad: [95, 167, 48, 36]
      area:
        access: none
        poly: [0,0,25,0,34,2,46,10,48,10,8,8]
      baseline: [0,0,25,0,34,2,46,10,48,10]
    - type: bg
      area:
        access: all
        poly: [191,65,179,45,248,45,236,65]
        collide:
          0:
            on_enter: 'enter_troll_bridge_north'
      condition: 'game_state.troll_gone==0'
    - type: bg
      tag: troll_block
      area:
        access: none
        polyline: [174,42,251,42]
      condition: 'game_state.troll_gone==0'
    - type: bg      # tree
      batch: "bridge"
      pos: [192, 95, 0]
      auto_depth: True
      quad: [148, 167, 58, 40]
      area:
        access: none
        polyline: [20,0,30,0]
    - type: bg
      area:
        access: player
        poly: [40,0,60,0,82,7,86,12,104,18,108,16,123,18,133,23,135,21,146,21,152,17,182,63,141,62,122,66,119,64,106,67,97,65,91,60,86,59,70,59,65,62,60,62,46,60,40,64]
        collide:
          0:
            on_enter: drown_bridge
    - type: bg
      area:
        access: player
        poly: [272,16,316,16,316,61,247,61]
        collide:
          0:
            on_enter: [drown, 291,24,150]
    - type: bg      # tree
      batch: "bridge"
      pos: [110, 88, 0]
      auto_depth: True
      quad: [100, 212, 118, 78]
      area:
        access: none
        polyline: [35,0,58,0]
    - type: bg      # tree
      batch: "bridge"
      pos: [154, 81, 0]
      quad: [239,168,38,24]
      area:
        access: none
        poly: [0,2,10,0,18,0,32,2,38,7,10,7]
      baseline: [0,2,10,0,18,0,32,2,38,7]
    - type: bg      # tree
      batch: "bridge"
      auto_depth: True
      pos: [122,62,0]
      quad: [210,167,26,16]
      area:
        access: none
        polyline: [0,5,26,0]

castle:
  batches:
    - "castle"
  east: start
  west: rock
  north: gardenw
  on_start: start_castle
  walkarea:
    poly: [0,10,20,10,20,0,316,0,316,20,260,20,251,47,203,47,191,20,128,20,149,46,149,130,0,130,0,20]
#    holes:
#      - poly: [128,20,149,46,116,33]
#        solid: False
#        on_enter: ['drown', 128, 33, 1]
#      - poly: [20,0,316,0,316,7,92,7,79,21,62,28,49,28,35,22,20,10]
#        solid: False
#        on_enter: ['drownx', 3, 1]

  items:
    - type: bg
      batch: "castle"
      pos: [0, 0, -1]
      quad: [0, 0, 316, 166]
      # drown areas
    - type: bg
      area:
        access: player
        #poly: [-1,4,226,4,237,15,243,18,312,0,312,2,296,10,286,21,270,28,247,28,234,21,220,8,-1,8]
        poly: [317,4,317,8,93,8,91,14,76,25,64,28,48,28,40,26,21,12,21,8,0,4,0,0,18,0,72,20,80,15,86,4]
        collide:
          0:
            on_enter: ['drownx', 3, 1]
    - type: bg
      area:
        access: player
        poly: [128,20,149,46,116,33]
        collide:
          0:
            on_enter: ['drown', 128, 33, 1]
    - type: bg      # tree
      batch: "castle"
      auto_depth: true
      pos: [8, 44, 0]
      quad: [128,168,86,122]
      wall:
        poly: [24,0,54,0,54,10,24,10]
    - type: bg      # tree
      batch: "castle"
      auto_depth: true
      pos: [128, 20, 0]
      quad: [221,168,72,139]
    - type: sprite
      sprite: 'sprites/flag1'
      pos: [226,155,0]
    - type: sprite
      sprite: 'sprites/flag2'
      pos: [256,155,0]
    - type: sprite
      sprite: 'sprites/flag3'
      pos: [286,155,0]
    #- type: hotspot
    #  poly: [20,10,40,26,48,28,64,28,80,22,93,8,316,8]
    #  on_enter: ['drown']
  #walls:
  #  - [131, 23, 190,23,192,25,199,25,207,46,247,46,256,25,261,23,314,23]
  #  - [0,10,20,10]
  scripts:
    look_lion: [ 'msg', 8 ]
    look_castle: [ 'msg', 9 ]
    look_flag: [ 'msg', 10 ]
    look_door: [ 'msg', 11 ]
cliff:
  batches:
    - "cliff"
  south: gardene
  north: rivtrees
  west: elf
  east: clover
  walkarea:
    poly: [0,0,316,0,316,160,0,160]
  items:
    - type: bg
      batch: "cliff"
      pos: [ 0, 0, -1 ]
      quad: [ 0, 0, 316, 166 ]
clover:
  batches:
    - "clover"
  walkarea:
    poly: [0,0,316,0,316,160,0,160]
  north: troll
  south: fairy
  west: cliff
  east: rushes
  items:
    - type: bg
      batch: "clover"
      pos: [ 0, 0, -1 ]
      quad: [ 0, 0, 316, 166 ]
    - type: bg      # left tree
      batch: "clover"
      auto_depth: true
      pos: [0,47,0]
      quad: [2,167,80,119]
    - type: bg      # right tree
      batch: "clover"
      auto_depth: true
      pos: [148,63,0]
      quad: [92,169,116,103]
    - type: bg      # bush
      batch: "clover"
      auto_depth: true
      pos: [86,103,0]
      quad: [2,290,54,16]
doorclou:
  batches:
    - "doorclou"
  walkarea:
    poly: [0,0,316,0,316,160,0,160]
  north: walnut
  south: goldegg
  east: elf
  west: lake3
  items:
    - type: bg
      batch: "doorclou"
      pos: [ 0, 0, -1 ]
      quad: [ 0, 0, 316, 166 ]
elf:
  batches:
    - "elf"
  walkarea:
    poly: [0,0,316,0,316,160,0,160]

  west: doorclou
  south: gardenw
  north: bowl
  east: cliff
  items:
    - type: bg
      batch: "elf"
      pos: [ 0, 0, -1 ]
      quad: [ 0, 0, 316, 166 ]
exitrock:
  batches:
    - "exitrock"
  walkarea:
    poly: [0, 0, 316, 0, 316, 160, 0, 160]
  north: house2
  east: rockclou
  south: sorcerer
  west: swamp
  items:
    - type: bg
      batch: "exitrock"
      pos: [ 0, 0, -1 ]
      quad: [ 0, 0, 316, 166 ]
fairy:
  batches:
    - "fairy"
  walkarea:
    poly: [0,0,316,0,316,166,0,166]
  north: clover
  west: gardene
  east: goatpenw
  south: lake2
  items:
    - type: bg
      batch: "fairy"
      pos: [ 0, 0, -1 ]
      quad: [ 0, 0, 316, 166 ]
    - type: bg      # bush1
      batch: "fairy"
      auto_depth: True
      pos: [190,95, 0]
      quad: [182,200,126,71]
    - type: bg      # bush1
      batch: "fairy"
      auto_depth: True
      pos: [30,64, 0]
      quad: [110,168,46,22]
    - type: bg      # bush1
      batch: "fairy"
      auto_depth: True
      pos: [90,65, 0]
      quad: [170,179,24,10]
    - type: bg      # bush1
      batch: "fairy"
      auto_depth: True
      pos: [118,63, 0]
      quad: [198,176,28,15]
    - type: bg      # bush1
      batch: "fairy"
      auto_depth: True
      pos: [54,87, 0]
      quad: [110,193,56,31]
    - type: bg      # bush1
      batch: "fairy"
      auto_depth: True
      pos: [104,96, 0]
      quad: [109,231,46,70]
  on_start: create_fairy
flowrbed:
  batches:
    - "flowrbed"
  walkarea:
    poly: [0, 0, 316, 0, 316, 121, 0, 121]
  south: trunkbig
  north: lake
  east: swamp
  west: trollsid
  items:
    - type: bg
      batch: "flowrbed"
      pos: [ 0, 0, -1 ]
      quad: [ 0, 0, 316, 166 ]
forkrive:
  batches:
    - "forkrive"
  walkarea:
    poly: [0,0,316,0,316,160,0,160]
  west: pebbles
  south: rivtrees
  east: gnome
  items:
    - type: bg
      batch: "forkrive"
      pos: [ 0, 0, -1 ]
      quad: [ 0, 0, 316, 166 ]
gardene:
  #z_func: zfunc2
  batches:
    - "gardene"
  walkarea:
    poly: [0,0,316,0,316,166,0,166]
  #walls:
  #  - [0,107,160,107,283,34,299,34,176,108,0,108,0,107]
  south:
    room: start
    x_bounds: [180, 316]
  west: gardenw
  east: fairy
  north: cliff
  items:
    - type: bg
      batch: "gardene"
      pos: [ 0, 0, -1 ]
      quad: [ 0, 0, 316, 166 ]
    - type: bg      # slanted wall
      batch: "gardene"
      pos: [161, 35, 0.789]
      quad: [173,167,139,89]
      area:
        access: none
        poly: [0, 72, 121, 0, 139, 0, 18,72]
      baseline: [0,72,121,0,139,0]
    - type: bg      # slanted wall
      batch: "gardene"
      auto_depth: True
      pos: [0,107,0]
      quad: [1,170,161,17]
      area:
        access: none
        polyline: [0,0,160,0]
    - type: bg      # tree right
      batch: "gardene"
      auto_depth: True
      pos: [190,110,0]
      quad: [2,269,126,56]
    - type: bg      # tree right
      batch: "gardene"
      pos: [92,124,0.2952]
      quad: [133,283,80,42]
gardenw:
  #z_func: zfunc1
  batches:
    - "gardenw"
  walkarea:
    poly: [ 0,0,316,0,316,166,0,166 ]

  #walls:
  #  - [316,107,166,107,46,35,64,35,183,107]
  east: gardene
  west: goldegg
  north: elf
  south:
    room: castle
    x_bounds: [0,135]


  scripts:
    look_wall: ['msg', 30]
    look_fence: ['msg', 30]
    look_garden: ['msg', 31]
    look_carrot: ['msg', 32]
    get_carrot: ['pickup', 'carrot', 33, 34]
  items:
    - type: bg
      batch: "gardenw"
      pos: [ 0, 0, -1 ]
      quad: [ 0, 0, 316, 166 ]
    - type: bg      # fence --
      batch: "gardenw"
      auto_depth: true
      pos: [44,35, 0]
      quad: [1,167,139,89]
      area:
        access: none
        poly: [0,0,18,0,139,72,121,72]
      baseline: [0,0,18,0,139,72]
    - type: bg      # tree
      batch: "gardenw"
      auto_depth: true
      pos: [78,79,0]
      quad: [147,168,66,43]
    - type: bg      # tree
      batch: "gardenw"
      auto_depth: true
      pos: [182,107,0]
      quad: [144,217,134,17]
      area:
        access: none
        polyline: [0,0,134,0]
    - type: bg      # tree
      batch: "gardenw"
      pos: [0,92,1]
      quad: [144,235,82,74]
    - type: bg      # tree
      batch: "gardenw"
      pos: [250,123,0.307]
      quad: [228,235,50,43]
gnome:
  batches:
    - "gnome"
  walkarea:
    poly: [0,0,316,0,316,160,213,160,213,96,184,93,185,80,135,74,0,69]
  south: troll
  east: trollsid
  west: forkrive
  north: bridge
  items:
    - type: bg
      batch: "gnome"
      pos: [ 0, 0, -1 ]
      quad: [ 0, 0, 316, 166 ]
  on_start: create_gnome
goatpene:
  batches:
    - "goatpene"
  walkarea:
    poly: [0,0,316,0,316,166,0,166]
  #walls:
  #  - [0,12,30,12]
  #  - [86,12,142,12,178,37,202,52]
  #  - [202,52,200,77]
  #  - [0,10,30,10]
  #  - [86,10,144,12,178,37,202,52]

  items:
    - type: bg
      batch: "goatpene"
      pos: [ 0, 0, -1 ]
      quad: [ 0, 0, 316, 166 ]
    - type: bg      # fence south
      batch: "goatpene"
      pos: [0,12,0]
      auto_depth: True
      quad: [1,167,204,65]
    - type: bg
      area:
        access: none
        polyline: [-1,12,33,12]
    - type: bg
      area:
        access: none
        polyline: [85,12,146,12,178,37,204,52]
      baseline: [85,12,146,12,178,37,204,52]
    - type: bg
      area:
        access: none
        polyline: [200,77,204,52]
    - type: bg      # fence north
      batch: "goatpene"
      pos: [0,77,0]
      quad: [2, 293, 202, 37]
      area:
        access: none
        polyline: [-1,7,14,7,54,12,90,15,124,16,164,14,200,0]
      baseline: [-1,7,14,7,54,12,90,15,124,16,164,14,200,0]
    - type: bg
      quad: [207,266,108,64]
      pos: [78,102,0]
      auto_depth: True
      batch: "goatpene"
#      wall: [118,102,136,102,136,108,118,108,118,102]
    - type: bg
      quad: [263,167,52,78]
      pos: [16,88,0]
      auto_depth: True
      batch: "goatpene"

    - type: bg
      quad: [73,241,44,26]
      pos: [110,67,0]
      auto_depth: True
      batch: "goatpene"
    - type: bg
      quad: [119,241,38,12]
      pos: [60,57,0]
      auto_depth: True
      batch: "goatpene"
    - type: bg
      quad: [215,337,70,59]
      pos: [210,97,0]
      auto_depth: True
      batch: "goatpene"
#      wall: [210,97,270,97,270,105,210,105,210,97]
    - type: hotspot
      aabb: [0,10,0,166]
      mask: 4
      flag: 8
      tag: 0
      on_enter: ['goat_west']

  west: goatpenw
  south: stump
  north: birdcave
  east: well
  on_start: create_goat_e
goatpenw:
  batches:
    - "goatpenw"
  on_start: create_goat
  walkarea:
    poly: [0,0,316,0,316,166,0,166]
  items:
    - type: bg
      batch: "goatpenw"
      pos: [ 0, 0, -1 ]
      quad: [ 0, 0, 316, 166 ]
#    - type: bg      # tree_1
#      batch: "goatpenw"
#      auto_depth: true
#      pos: [148, 69, 0]
#      quad: [118,167,32,24]
    - type: bg      # bush
      batch: "goatpenw"
      auto_depth: true
      pos: [8, 40, 0]
      quad: [1,167,48,27]
    - type: bg      # rock
      batch: "goatpenw"
      auto_depth: true
      pos: [164, 9, 0]
      quad: [50,167,64,17]
#    - type: bg      # tree
#      batch: "goatpenw"
#      auto_depth: true
#      pos: [154, 96, 0]
#      quad: [156,172,36,20]
    - type: bg      # fence south
      batch: "goatpenw"
      pos: [78, 84, 0]
      quad: [1,293,238,37]
      wall:
        polyline: [0,0,36,7,72,15,122,15,171,14,222,4,239,4]
        baseline: true
    - type: bg      # fence south
      batch: "goatpenw"
      pos: [78, 13, 0]
      quad: [2, 196, 238, 93]
      wall:
        polyline: [0,71,26,47,64,24,155,24,213,8,239,0]
        baseline: true
    - type: bg
      quad: [156,172,36,20]
      pos: [154,96,0]
      auto_depth: True
      batch: "goatpenw"
    - type: bg
      quad: [118,167,32,24]
      pos: [148,69,0]
      auto_depth: True
      batch: "goatpenw"
    - type: hotspot
      aabb: [306,316,0,166]
      mask: 4
      flag: 8
      tag: 0
      on_enter: ['goat_east']
  west: fairy
  east: goatpene
  north: rushes
  south: rivinlak
goldegg:
  batches:
    - "goldegg"
  walkarea:
    poly: [0, 0, 316, 0, 316, 166, 0, 166]
  #walls:
  #  - [156,15,209,15,209,7,222,7,245,15,309,15,309,18,156,18,156,15]
  west: wolf
  east: gardenw
  south: rock
  north: doorclou
  items:
    - type: bg
      batch: "goldegg"
      pos: [0, 0, -1]
      quad: [0, 0, 316, 166]
    - type: bg      # tree
      batch: "goldegg"
      pos: [130,7, 0]
      quad: [128,168,186,159]
      area:
        poly: [27,9,32,8,80,7,80,0,92,0,112,6,180,10,27,10]
        access: none
      baseline: [27,9,32,8,80,7,80,0,92,0,112,6,180,10]
    - type: bg      # bush1
      batch: "goldegg"
      auto_depth: True
      pos: [142,47, 0]
      quad: [2,167,76,46]
    - type: bg      # tree2
      batch: "goldegg"
      auto_depth: True
      pos: [62,86, 0]
      quad: [3,216,80,80]
    - type: bg      # bush2
      batch: "goldegg"
      auto_depth: True
      pos: [134,87, 0]
      quad: [3,297,48,26]
  scripts:
    look_tree: ['msg', 18]
    climb_tree: ['climb_tree']
house:
  batches:
    - "house"
  walkarea:
    poly: [0, 0, 316, 0, 316, 160, 0, 160]
  south: swamp
  north: park
  east: house2
  west: lake
  items:
    - type: bg
      batch: "house"
      pos: [ 0, 0, -1 ]
      quad: [ 0, 0, 316, 166 ]
house2:
  batches:
    - "house2"
  walkarea:
    poly: [0, 0, 316, 0, 316, 160, 0, 160]
  north: lake4
  east: ogre
  south: exitrock
  west: house
  items:
    - type: bg
      batch: "house2"
      pos: [ 0, 0, -1 ]
      quad: [ 0, 0, 316, 166 ]
incastl1:
  batches:
    - "incastl1"
  north: incastl2
  south:
    room: castle
    pos: [228, 43, 0]
  walkarea:
    poly: [38,0,38,16,57,40,78,40,78,50,67,50,86,78,99,78,99,85,95,85,120,122,192,122,216,90,216,79,228,79,248,51,237,51,241,40,257,40,278,15,278,0]
  items:
    - type: bg
      batch: "incastl1"
      pos: [0, 0, -1]
      quad: [0, 0, 316, 166]
    - type: bg        # lamp
      batch: "incastl1"
      pos: [128, 76, 1]
      quad: [1, 168, 62, 89]
    - type: bg      # tree
      batch: "incastl1"
      auto_depth: true
      pos: [54,41,0]
      quad: [78,170,22,53]
    - type: bg      # tree
      batch: "incastl1"
      auto_depth: true
      pos: [240,41,0]
      quad: [102,170,28,53]
incastl2:
  batches:
    - "incastl2"
  walkarea:
    poly: [0,82,84,82,84,79,98,79,100,82,215,82,218,79,228,79,289,0,0,0]
  south:
    room: incastl1
    pos: [158, 118, 0]
  west: throne
  items:
    - type: bg
      batch: "incastl2"
      pos: [0, 0, -1]
      quad: [0, 0, 316, 166]
    - type: bg
      batch: "incastl2"
      pos: [0, 0, 1]
      quad: [0, 166, 316, 166]

lake:
  batches:
    - "lake"
  walkarea:
    poly: [0, 0, 316, 0, 316, 121, 0, 121]
  north: stump
  south: flowrbed
  east: house
  west: stonebri
  items:
    - type: bg
      batch: "lake"
      pos: [ 0, 0, -1 ]
      quad: [ 0, 0, 316, 166 ]
    - type: bg
      area:
        poly: [0,44,44,33,73,33,112,26,125,16,171,9,215,17,248,57,238,89,196,107,196,113,201,120,189,127,0,127,0,44]
        access: player
        collide:
          0:
            on_enter: 'start_swim'
            on_exit: 'end_swim'
    - type: bg      # stump
      batch: "lake"
      auto_depth: true
      pos: [220, 93, 0]
      quad: [1,167,96,73]
    - type: bg      # stump
      batch: "lake"
      auto_depth: true
      pos: [238, 68, 0]
      quad: [99,167,44,37]
    - type: bg      # plant
      batch: "lake"
      auto_depth: true
      pos: [218, 23, 0]
      quad: [99,206,38,35]
    - type: bg      # plant2
      batch: "lake"
      auto_depth: true
      pos: [90, 23, 0]
      quad: [148,174,38,30]
    - type: bg      # small rock
      batch: "lake"
      auto_depth: true
      pos: [214, 67, 0]
      quad: [149,210,18,14]
    #- type: hotspot
    #  poly: [0,44,44,33,73,33,112,26,125,16,171,9,215,17,248,57,238,89,196,107,196,113,201,120,189,127,0,127,0,44]
    #  on_enter: ['start_swim']
    #  on_leave: ['end_swim']
lake2:
  batches:
    - "lake2"
  walkarea:
    poly: [0,0,316,0,316,160,0,160]
  north: fairy
  west: start
  east: rivinlak
  south:
    room: bridge
    x_bounds: [28, 316]
  items:
    - type: bg
      batch: "lake2"
      pos: [ 0, 0, -1 ]
      quad: [ 0, 0, 316, 166 ]
    - type: bg
      area:
        access: player
        poly: [207,43,228,38,234,31,238,6,263,4,297,10,316,5,316,112,293,114,263,111,274,113,264,108,208,108,187,104,170,96,169,93,173,90,202,87,209,83,194,61,203,46]
        collide:
          0:
            on_enter: 'start_swim'
            on_exit: 'end_swim'
    - type: bg
      area:
        access: player
        poly: [235,32,221,15,207,8,195,8,173,0,209,0,238,8,276,8,295,10,235,32]
        collide:
          0:
            on_enter: ['drownxy', 50]
    - type: bg      # tree
      batch: "lake2"
      auto_depth: true
      pos: [10, 95, 0]
      quad: [1, 167, 105, 71]
      area:
        access: none
        polyline: [34,0,66,0]
    - type: bg      # tree
      batch: "lake2"
      auto_depth: true
      pos: [180, 79, 0]
      quad: [115, 219, 24, 44]
      area:
        access: none
        polyline: [0,0,24,0]
    - type: bg      # tree
      batch: "lake2"
      auto_depth: true
      pos: [114, 120, 1]
      quad: [107, 167, 60, 46]
    - type: bg      # tree
      batch: "lake2"
      auto_depth: true
      pos: [154, 31, 0]
      quad: [176, 168, 138, 135]
      area:
        access: none
        polyline: [50,0,74,0]
    - type: bg      # tree
      batch: "lake2"
      auto_depth: true
      pos: [32, 48, 0]
      quad: [27, 271, 86, 31]
      area:
        access: none
        poly: [0,0,86,0,27,9,2,9]

lake3:
  batches:
    - "lake3"
  east: doorclou
  north: sorcerer
  west: largrock
  south: wolf
  walkarea:
    poly: [0,0,316,0,316,160,0,160]
  items:
    - type: bg
      batch: "lake3"
      pos: [ 0, 0, -1 ]
      quad: [ 0, 0, 316, 166 ]
    - type: hotspot
      poly: [112,0,190,0,203,8,214,28,238,40,254,55,254,74,241,85,217,93,211,99,198,103,175,108,170,111,170,114,157,125,81,124,66,123,60,118,56,100,48,87,44,65,49,41,59,24,97,7]
      on_enter: ['start_swim']
      on_leave: ['end_swim']
lake4:
  batches:
    - "lake4"
  east: rock
  south: house2
  west: park
  north: wolf
  walkarea:
    poly: [0,0,316,0,316,160,0,160]
  items:
    - type: bg
      batch: "lake4"
      pos: [ 0, 0, -1 ]
      quad: [ 0, 0, 316, 166 ]

largrock:
  batches:
    - "largrock"
  walkarea:
    poly: [0,0,316,0,316,160,0,160]
  south: well
  north: witch
  west: birdcave
  east: lake3
  items:
    - type: bg
      batch: "largrock"
      pos: [ 0, 0, -1 ]
      quad: [ 0, 0, 316, 166 ]

ogre:
  batches:
    - "ogre"
  walkarea:
    poly: [0,0,316,0,316,160,0,160]
  east: southcas
  north: rock
  south: rockclou
  west: house2
  items:
    - type: bg
      batch: "ogre"
      pos: [ 0, 0, -1 ]
      quad: [ 0, 0, 316, 166 ]


park:
  batches:
    - "park"
  walkarea:
    poly: [0,0,316,0,316,160,0,160]
  south: house
  north: well
  west: stump
  east: lake4
  items:
    - type: bg
      batch: "park"
      pos: [ 0, 0, -1 ]
      quad: [ 0, 0, 316, 166 ]
pebbles:
  batches:
    - "pebbles"
  walkarea:
    poly: [0,0,316,0,316,160,0,160]
  south: bowl
  north: southcas
  east: forkrive
  west: rockclou
  #walls:
  #  - [66,86,138,86,138,91,66,91,66,86]
  items:
    - type: bg
      batch: "pebbles"
      pos: [ 0, 0, -1 ]
      quad: [ 0, 0, 316, 166 ]
    - type: bg      # large trunk
      batch: "pebbles"
      auto_depth: true
      pos: [66, 86, 0]
      quad: [1,167,82,38]
  scripts:
      look_river: [ 'msg', 55 ]
      look_beach: [ 'msg', 55 ]
      look_pebbles: ['look_inventory_item', 'pebbles', 56, 0]
      get_pebbles: ['pickup', 'pebbles', 57, 26]

rivinlak:
  batches:
    - "rivinlak"
  west: lake2
  north: goatpenw
  south: stonebri
  east: stump
  walkarea:
    poly: [0, 0, 316, 0, 316, 160, 0, 160]
    holes:
      #- poly: [0,105,13,105,25,97,59,97,63,93,70,96,84,98,128,89,133,87,133,78,128,71,128,54,144,31,140,25,129,19,120,19,108,17,84,6,77,5,69,9,48,9,34,6,11,7,0,5,0,105]
      - poly: [0,105,0,5,11,7,34,6,48,9,69,9,77,5,84,6,108,17,120,19,129,19,140,25,144,31,128,54,128,71,133,78,133,87,128,89,84,98,70,96,63,93,59,97,25,97,13,105]
        solid: False
        on_enter: ['start_swim']
        on_leave: ['end_swim']

  items:
    - type: bg
      batch: "rivinlak"
      pos: [ 0, 0, -1 ]
      quad: [ 0, 0, 316, 166 ]

#    - type: hotspot
#      poly:
#      on_enter: ['start_swim']
#      on_leave: ['end_swim']
    - type: hotspot
      poly: [23,126,7,108,0,106,0,97,16,92,35,89,55,91,60,93,51,101,44,112,44,126]
      on_enter: ['drown3']
rivrbend:
  batches:
    - "rivrbend"
  walkarea:
    poly: [0, 0, 316, 0, 316, 160, 0, 160]
  east: trunkbig
  west: troll
  south: rushes
  north: trollsid
  items:
    - type: bg
      batch: "rivrbend"
      pos: [ 0, 0, -1 ]
      quad: [ 0, 0, 316, 166 ]
    - type: bg     # rock
      batch: "rivrbend"
      pos: [94,79,0]
      quad: [1,167,36,9]
      wall:
        poly: [ 0,2,18,0,26,0,35,2]
        zw: [ 0,2,18,0,26,0,35,2]
        baseline: True
    - type: bg     # rock
      batch: "rivrbend"
      pos: [134,31,0]
      quad: [1,177,76,98]
      wall:
        polyline: [0,0,76,0]
        baseline: True
    - type: bg     # rock
      batch: "rivrbend"
      pos: [184,15,0]
      quad: [1,277,68,30]
      wall:
        polyline: [0,0,68,0]
        baseline: True
    - type: bg     # rock
      batch: "rivrbend"
      pos: [240,1,0]
      quad: [86,168,70,64]
      wall:
        poly: [0,17,32,14,39,8,46,7,52,0,56,0,56,15,86,17]
        zw: [0,17,32,14,39,8,46,7,52,0,56,0,56,15,86,17]
        baseline: True
rivtrees:
  batches:
    - "rivtrees"
  walkarea:
    poly: [0, 0, 316, 0, 316, 121, 0, 121]
  east: troll
  north: forkrive
  west: bowl
  south: cliff
  items:
    - type: bg
      batch: "rivtrees"
      pos: [ 0, 0, -1 ]
      quad: [ 0, 0, 316, 166 ]
    - type: bg     # tree 2
      batch: "rivtrees"
      pos: [ 43,31,0 ]
      quad: [ 2,168,92,46]
      wall:
        polyline: [ 0,7,7,3,14,0, 38,0,64,7,64,15,92,21]
        baseline: True
    - type: bg     # tree 2
      batch: "rivtrees"
      pos: [ 210,42,0 ]
      quad: [1,217,62,70]
      wall:
        polyline: [ 0,6,20,0,27,6,62,6]
        baseline: True
    - type: bg     # tree 2
      batch: "rivtrees"
      pos: [ 0,95,0 ]
      quad: [100,169,42,70]
      wall:
        polyline: [0,0,42,0]
        baseline: True
    - type: bg     # tree 2
      batch: "rivtrees"
      pos: [52,89,0]
      quad: [152,168,74,77]
      wall:
        polyline: [0,0,74,0]
        baseline: True
rock:
  batches:
    - "rock"
  walkarea:
    poly: [0,0,316,0,316,166,0,166]
  east: castle
  north: goldegg
  south: ogre
  west: lake4
  items:
    - type: bg
      batch: "rock"
      pos: [0, 0, -1]
      quad: [0, 0, 316, 166]
    - type: bg      # tree
      batch: "rock"
      auto_depth: true
      pos: [0,0, 0]
      quad: [0,194,64,138]
    - type: bg      # tree
      batch: "rock"
      auto_depth: true
      pos: [130,71, 0]
      quad: [80,195,98,36]
    - type: bg      # tree
      batch: "rock"
      auto_depth: true
      pos: [242,87, 0]
      quad: [194,198,74,79]
    - type: bg
      batch: 'rock'
      auto_depth: True
      quad: [81,237,60,58]
      pos: [120,107,0]
#    - type: sprite
#      sprite: 'rock/rock'
#      auto_depth: true
#      tag: rock
#      movable: True
#      pos: '@rock_pos'

  scripts:
    look_rock: ['msg', 15]
    look_tree: ['msg', 12]
    look_hole: ['switch', 'game_state.rock_moved == 1', ['msg', 14], ['msg', 16]]
    push_rock: ['switch', 'game_state.rock_moved == 0', ['push_rock'], ['msg', 17]]
    get_dagger: ['get_dagger']
    move_rock: ['push_rock']
rockclou:
  batches:
    - "rockclou"
  walkarea:
    poly: [0,0,316,0,316,160,0,160]
  north: ogre
  east: pebbles
  south: walnut
  west: exitrock
  items:
    - type: bg
      batch: "rockclou"
      pos: [ 0, 0, -1 ]
      quad: [ 0, 0, 316, 166 ]
rushes:
  batches:
    - "rushes"
  walkarea:
    poly: [0,0,316,0,316,160,0,160]
  north: rivrbend
  south: goatpenw
  east: birdcave
  west: clover
  items:
    - type: bg
      batch: "rushes"
      pos: [ 0, 0, -1 ]
      quad: [ 0, 0, 316, 166 ]

sorcerer:
  batches:
    - "sorcerer"
  on_start: create_sorcerer
  walkarea:
    poly: [0,0,316,0,316,160,0,160]
  east: walnut
  south: lake3
  west: witch
  north: exitrock
  items:
    - type: bg
      batch: "sorcerer"
      pos: [ 0, 0, -1 ]
      quad: [ 0, 0, 316, 166 ]
    - type: bg     # tree 1
      batch: "sorcerer"
      pos: [ 16,19,0 ]
      quad: [ 1, 167, 104, 116 ]
      wall:
        polyline: [ 0,0,104,0]
        baseline: True
    - type: bg     # tree 2
      batch: "sorcerer"
      pos: [ 84,63,0 ]
      quad: [ 1,287,64,27 ]
      wall:
        polyline: [ 0,0,64,0]
        baseline: True
    - type: bg     # tree 3
      batch: "sorcerer"
      pos: [ 0,71,0 ]
      quad: [ 109,168,38,87 ]
      wall:
        polyline: [ 0,0,38,0]
        baseline: True
    - type: bg     # tree 4
      batch: "sorcerer"
      pos: [ 122,80,0 ]
      quad: [ 152,168,48,67 ]
      wall:
        polyline: [ 0,0,48,0]
        baseline: True
    - type: bg     # rock
      batch: "sorcerer"
      pos: [ 30,103,0 ]
      quad: [ 69,284,104,30 ]
      wall:
        polyline: [ 0,0,104,0]
        baseline: True
    - type: bg     # tree 5
      batch: "sorcerer"
      pos: [ 186,79,0 ]
      quad: [ 202,168,76,87 ]
      wall:
        polyline: [ 0,0,76,0]
        baseline: True
southcas:
  batches:
    - "southcas"
  walkarea:
    poly: [0,0,316,0,316,160,0,160]
  south: pebbles
  west: ogre
  items:
    - type: bg
      batch: "southcas"
      pos: [ 0, 0, -1 ]
      quad: [ 0, 0, 316, 166 ]

start:
  walkarea:
    poly: [0,0, 288, 0, 288, 10, 316,10, 316,128, 164,128,164,20,0,20]
  on_start: create_alli
  batches:
    - "start"
  west: castle
  east: lake2
  north: gardene
  items:
    - type: bg
      area:
        access: player
        poly: [-1,4,226,4,237,15,243,18,312,0,312,2,296,10,286,21,270,28,247,28,234,21,220,8,-1,8]
        collide:
          0:
            on_enter: ['drownx', 3, 1]
    - type: bg
      area:
        access: player
        poly: [175,45,164,45,164,26,175,26,186,22,199,35,204,36]
        collide:
          0:
            on_enter: ['drown', 184, 34, 1]
    - type: bg
      batch: "start"
      pos: [0, 0, -1]
      quad: [0, 0, 316, 166]
    - type: bg      # tree
      batch: "start"
      auto_depth: true
      pos: [198, 39, 0]
      quad: [86, 167, 118, 127]
      area:
        access: none
        poly: [65,0,85,0,85,10,65,10]

    - type: bg      # castle
      batch: "start"
      quad: [208,167, 70,137]
      pos: [118,24,-1]
      auto_depth: True
    - type: sprite
      sprite: 'sprites/flag1'
      pos: [6,155,0]
    - type: sprite
      sprite: 'sprites/flag2'
      pos: [36,155,0]
    - type: sprite
      sprite: 'sprites/flag3'
      pos: [66,155,0]
stonebri:
  batches:
    - "stonebri"
  south: trollsid
  north: rivinlak
  east: lake
  west: bridge
  walkarea:
    poly: [0, 0, 316, 0, 316, 160, 0, 160]
  items:
    - type: bg
      batch: "stonebri"
      pos: [ 0, 0, -1 ]
      quad: [ 0, 0, 316, 166 ]
    - type: bg      # rail left
      batch: "stonebri"
      pos: [166,30,0]
      quad: [1, 167, 58, 56]
      area:
        access: none
        poly: [0,32,22,32,30,23,42,0,56,0,51,10,41,25,30,33,15,37,0,37]
      baseline: [0,32,22,32,30,23,42,0,58,0]
    - type: bg      # rail left
      batch: "stonebri"
      pos: [222,28,0]
      quad: [70, 167, 70, 62]
      area:
        access: none
        poly: [0,50,12,49,30,37,39,7,44,0,70,0,59,8,44,31,27,47,5,54]
      baseline: [0,50,12,49,30,37,39,7,44,0,70,0]
    - type: bg      # tree 1
      batch: "stonebri"
      auto_depth: true
      pos: [208,102,0]
      quad: [2,233,50,64]
    - type: bg      # tree 1
      batch: "stonebri"
      auto_depth: true
      pos: [50,66,0]
      quad: [181,167,134,100]
    - type: bg
      area:
        access: player
        poly: [0,13,106,31,160,24,178,34,200,38,175,70,144,65,119,59,16,59,0,64]
        collide:
          0:
            on_enter: drown_stbrdg
    - type: bg
      area:
        access: player
        poly: [286,42,299,37,316,37,316,82,290,80,279,75,262,74]
        collide:
          0:
            on_enter: [drown,295,60,151]
    - type: bg
      area:
        access: player
        poly: [67,0,136,0,144,13,161,24,106,27,90,18]
        collide:
          0:
            on_enter: [drown,111,11,151]
    - type: bg
      area:
        access: player
        poly: [270,101,280,98,284,95,316,90,316,132,284,127,270,122,260,113]
        collide:
          0:
            on_enter: 'start_swim'
            on_exit: 'end_swim'
stump:
  batches:
    - "stump"
  walkarea:
    poly: [0,0,316,0,316,166,0,166]
  items:
    - type: bg
      batch: "stump"
      pos: [ 0, 0, -1 ]
      quad: [ 0, 0, 316, 166 ]
    - type: bg      # stump
      batch: "stump"
      auto_depth: true
      pos: [6, 31, 0]
      quad: [1,167,52,39]
    - type: bg      # stump2
      batch: "stump"
      auto_depth: true
      pos: [66, 15, 0]
      quad: [54,167,95,33]
    - type: bg      # tree1
      batch: "stump"
      auto_depth: true
      pos: [172, 32, 0]
      quad: [150,167,48,64]
    - type: bg      # tree2
      batch: "stump"
      auto_depth: true
      pos: [244, 63, 0]
      quad: [199,167,58,103]
    - type: bg      # tree3
      batch: "stump"
      auto_depth: true
      pos: [14, 79, 0]
      quad: [54,201,70,87]
  north: goatpene
  west: rivinlak
  east: park
  south:
    room: lake
    x_bounds: [260,316]
  #scripts:
  #  look_stump: [ 'msg', 42 ]
  #  look_in_stump: [ 'msg', 43 ]
  #  get_pouch: ['pickup', 'pouch', 44, 26]




swamp:
  batches:
    - "swamp"
  south: witch
  north: house
  west: flowrbed
  east: exitrock
  walkarea:
    poly: [0, 0, 316, 0, 316, 160, 0, 160]
  items:
    - type: bg
      batch: "swamp"
      pos: [ 0, 0, -1 ]
      quad: [ 0, 0, 316, 166 ]
test_walkarea:
  walls:
    - [108,83,208,83]
  items: []
  on_start: pino
test3d:
  batches:
    - "test3d"
  on_start: setup3d
  scale_player: 0.5
  walls:
    - [177,21,213,41]
    - [224,48, 265,71]
    - [272,76,279,79]
    - [177,88,245,52]
    - [252,47,272,37]
  items:
    - type: bg
      batch: "test3d"
      pos: [ 0, 0, -1 ]
      quad: [ 0, 0, 316, 166 ]
    - type: bg
      batch: "test3d"
      pos: [27, 26, 0.843]
      quad: [12,177,128,61]
      baseline: [27,26,154,70]
    - type: bg
      batch: "test3d"
      pos: [17, 35, 0.789]
      quad: [12,247,128,61]
      baseline: [17,35,144,79]
    - type: bg
      batch: "test3d"
      pos: [177,21,0]
      quad: [218,169,95,55]
      baseline: [177,21,238,55,271,37]
      solid: False
    - type: bg
      batch: "test3d"
      pos: [177,56,0]
      quad: [212,231,102,54]
      baseline: [177,88,238,55,279,79]
      solid: False

throne:
  batches:
    - "throne"
  east: incastl2
  walkarea:
    poly: [0,1,0,0,205,0,196,28,316,28,316,73,292,73,182,73,182,95,174,95,171,99,104,99,99,95,88,95,67,80,120,80,108,64,49,64,27,47,27,40,23,36,23,29,15,24,15,17]
  items:
    - type: bg
      batch: "throne"
      pos: [0, 0, -1]
      quad: [0, 0, 316, 166]
    - type: bg      # throne
      batch: "throne"
      pos: [46,64,0]
      auto_depth: True
      quad: [2, 167, 72, 62]
      wall:
        polyline: [0,0,61,0,73,15]
        baseline: True
    - type: bg
      batch: "throne"
      pos: [0, 0, 1]
      quad: [0, 231, 316, 166]
treetop:
  batches:
    - "treetop"
  walkarea:
    poly: [0,0,316,0,316,166,0,166]
  south:
    room: goldegg
    x: 176
    y: 42
  items:
    - type: bg
      batch: "treetop"
      pos: [ 0, 0, -1 ]
      quad: [ 0, 0, 316, 166 ]
troll:
  batches:
    - "troll"
  walkarea:
    #poly: [0,0,316,0,316,94,138,94,138,75,131,75,100,100,88,114,143,114,143,109,316,109,316,125,0,125,0,114,61,114,51,100,23,75,20,75,20,94,0,94]
    poly: [0,0,316,0,316,130,0,130]
    holes:
      - poly: [21,75,50,98,62,115,21,115]
        solid: True
      - poly: [89,115,103,98,136,75,136,115]
      - poly: [137,80,316,80,316,110,137,110]
        solid: False
        on_enter: [ 'drownx', 84, 118 ]
      - poly: [0,80,20,80,20,110,0,110]
        solid: False
        on_enter: [ 'drownx', 84, 118 ]
  east: rivrbend
  west: rivtrees
  south: clover
  north: gnome
  items:
    - type: bg
      batch: "troll"
      pos: [ 0, 0, -1 ]
      quad: [ 0, 0, 316, 166 ]
    - type: hotspot
      poly: [24,75,132,75,100,99,48,99]
      on_enter: ['enter_troll_bridge']
      condition: 'game_state.troll_gone==0'
    - type: bg
      tag: troll_block
      wall:
        polyline: [0,93,316,93]
      condition: 'game_state.troll_gone==0'
    - type: bg      # rail left
      batch: "troll"
      pos: [21,75,0]
      quad: [1, 167, 42, 56]
      wall:
        polyline: [0,0,29,23,41,40]
        baseline: True
    - type: bg      # rail left
      batch: "troll"
      pos: [88,75,0]
      quad: [46, 167, 50, 55]
      wall:
        polyline: [1,40,15,23,48,0]
        baseline: True
trollsid:
  batches:
    - "trollsid"
  walkarea:
    poly: [0,0,316,0,316,160,0,160]
    holes:
      - poly: [6, 0, 184,0,177,10,163,20,159,51,152,55,150,86,27,86,29,67,21,54,29,41,20,13]
        solid: False
        on_enter: ['drown', 86, 34, 124]
      - poly: [47,111,134,111,124,121,63,121]
        solid: False
        on_enter: ['drown', 96,117, 124]
      - poly: [22,86,158,86,158,89,22,89]
        solid: True
      - poly: [40,111,142,111,142,112,40,112]
        solid: True
  west: gnome
  east: flowrbed
  north: stonebri
  south: rivrbend
  items:
    - type: bg
      batch: "trollsid"
      pos: [ 0, 0, -1 ]
      quad: [ 0, 0, 316, 166 ]
    - type: bg      # large trunk
      batch: "trollsid"
      auto_depth: true
      pos: [22,86,0]
      quad: [2,167,136,18]
    - type: bg      # large trunk
      batch: "trollsid"
      auto_depth: true
      pos: [38,111,0]
      quad: [148,168,108,11]
    - type: bg      # tree 1
      batch: "trollsid"
      auto_depth: true
      pos: [196,105,0]
      quad: [2,189,60,61]
    - type: hotspot
      poly: [108,88,151,88,138,110,108,110]
      on_enter: ['enter_troll_bridge_side']
      condition: 'game_state.troll_gone==0'
    - type: bg
      tag: troll_block
      wall:
        polyline: [112,112,112,88]
      condition: 'game_state.troll_gone==0'
trunkbig:
  batches:
    - "trunkbig"
  walkarea:
    poly: [0, 0, 316, 0, 316, 121, 0, 121]
  north: flowrbed
  west: rivrbend
  south: birdcave
  east: witch
  items:
    - type: bg
      batch: "trunkbig"
      pos: [ 0, 0, -1 ]
      quad: [ 0, 0, 316, 166 ]
    - type: bg      # large trunk
      batch: "trunkbig"
      auto_depth: true
      pos: [8, 0, 0]
      quad: [3,166,240,166]
    - type: bg      # tree1
      batch: "trunkbig"
      auto_depth: true
      pos: [22, 79, 0]
      quad: [251,167,64,64]
    - type: bg      # tree2
      batch: "trunkbig"
      auto_depth: true
      pos: [70, 95, 0]
      quad: [253,232,32,62]
    - type: bg      # tree3
      batch: "trunkbig"
      auto_depth: true
      pos: [190, 103, 0]
      quad: [256,296,56,35]
    - type: bg      # tree4
      batch: "trunkbig"
      auto_depth: true
      pos: [256, 88, 0]
      quad: [318,3,54,69]
    - type: bg      # bush
      batch: "trunkbig"
      auto_depth: true
      pos: [128, 89, 0]
      quad: [318,74,68,26]
walnut:
  batches:
    - "walnut"
  walkarea:
    poly: [0,0,316,0,316,160,0,160]
  north: rockclou
  south: doorclou
  west: sorcerer
  east: bowl
  items:
    - type: bg
      batch: "walnut"
      pos: [ 0, 0, -1 ]
      quad: [ 0, 0, 316, 166 ]
    - type: bg     # tree 3
      batch: "walnut"
      pos: [ 56,7,0 ]
      quad: [ 1,167,120,159 ]
      wall:
        polyline: [ 44,0,82,0]
        baseline: True
    - type: bg     # rock
      batch: "walnut"
      pos: [ 188,39,0 ]
      quad: [ 253,295,60,19 ]
      wall:
        polyline: [ 0,7,8,3,28,3,36,0,44,0,59,5]
        baseline: True
    - type: bg     # tree 3
      batch: "walnut"
      pos: [246,55,0 ]
      quad: [ 242,169,68,91]
      wall:
        polyline: [0,0,68,0]
        baseline: True
    - type: bg     # tree 3
      batch: "walnut"
      pos: [210,71,0 ]
      quad: [134,167,62,95]
      wall:
        polyline: [0,0,62,0]
        baseline: True
  scripts:
      look_tree: [ 'msg', 60 ]
      look_walnut: ['look_inventory_item', 'walnut', 64, 0]
      get_walnut: ['pickup', 'walnut', 62, 65]
well:
  batches:
    - "well"
  walkarea:
    poly: [0,0,316,0,316,160,0,160]
  south: park
  north: largrock
  west: goatpene
  east: wolf
  items:
    - type: bg
      batch: "well"
      pos: [ 0, 0, -1 ]
      quad: [ 0, 0, 316, 166 ]
    - type: bg     # tree 3
      batch: "well"
      pos: [ 20,23,0 ]
      quad: [ 4,167,128,101 ]
      wall:
        poly: [15,11,39,0,92,0,115,10,92,22,39,22]
        zw: [15,11,39,0,92,0,115,10]
        baseline: True
witch:
  walkarea:
    poly: [ 0,0,316,0,316,160,0,160,0,86,100,86,100,57,0,57]
    holes:
      - poly: [187,42,188,42,188,55,187,55]
#  walls:
#    - [0,64,28,64]
#    - [190,54,192,42]
#    - [16,57,10,64]
#    - [42,16.9,85,16.9]
#    - [182,57,154,88,0,88]
#  walls_z:
#    - [14,57,42,16.9]
#    - [154,23,250,35]
#    - [154,65,250,34.9]
  batches:
    - "witch"
  east: sorcerer
  north:
    room: swamp
    pos: [292,6]
  south: largrock
  west: trunkbig
  items:
    - type: bg
      batch: "witch"
      pos: [ 0, 0, -1 ]
      quad: *a
    - type: sprite
      sprite: 'witch/door'
      auto_depth: true
      tag: door
      pos: [88, 38, 0]
    - type: bg      # fence west
      batch: "witch"
      pos: [14, 17, 0]
      quad: [2,215,72,50]
      wall:
        #polyline: [161,107,282,35]
        polyline: [2,40,28,0,72,1]
        baseline: True
      #baseline: [16,57,42,17,86,18]
    - type: bg      # fence east
      batch: "witch"
      pos: [154, 23, 0]
      quad: [149,183,96,26]
      wall:
        polyline: [0,0,96,12]
        baseline: True
    - type: bg      # fence east
      batch: "witch"
      pos: [190, 38, 0]
      quad: [149,210,56,27]
      wall:
        polyline: [-36,16,0, 16, 60, -2.9]
        baseline: True
      #baseline: [190,54,250,35.01]
    - type: bg      # fence east
      batch: "witch"
      pos: [18,34,0]
      quad: [6,274,190,105]
      wall:
        polyline: [10,30,16,19,22,12,33,12,42,0,104,6,174,8]
        baseline: True
    - type: bg      # left tree
      batch: 'witch'
      pos: [0,62,0]
      auto_depth: True
      quad: [275,167,38,104]
    - type: bg      # right tree
      batch: 'witch'
      pos: [242,54,0]
      auto_depth: True
      quad: [237,275,74,110]
    - type: bg      # right tree
      batch: 'witch'
      pos: [220,79,0]
      auto_depth: True
      quad: [4,385,62,87]
    - type: bg      # right tree
      batch: 'witch'
      pos: [108,100,0]
      auto_depth: True
      quad: [74,391,78,64]
      #      baseline: [28,64,34,53,40,46,51,46,60,34,122,40,192,42]
  scripts:
    #look_house: ['msg', {'id': 49}]
    look_door: ['msg',71]
    look_fence: ['msg',72]
    look_window: ['msg',73]
    #eat_house: ['msg', 74]
    open_door: ['open_witch_door']#, {'rect': [86, 33, 36, 8]}]
witchous:
  batches:
    - "witchous"
  walkarea:
    poly: [0,2,78,2,78,0,120,0,120,2,316,2,316,52,288,78,203,78,203,75,196,75,196,78,52,78,52,66,66,66,35,29,16,29,0,12]
  #walls:
  #  - [78,2,0,2,0,12,16,30,36,30,59,61,47,61,58,78,193,78,196,74,205,74,206,78,289,78,316,53,316,2,226,2,209,52,202,52,215,2,120,2]
  #  - [214,7,264,7,254,22,210,22]
  #  - [217,31,287,31,272,46,215,46,217,31]
  south: {'room': witch, 'pos': [105,36]}
#  walls_z:
#    - [202,51,216,0]
  items:
    - type: bg
      batch: "witchous"
      pos: [ 0, 0, -1 ]
      quad: [ 0, 0, 316, 166 ]
    - type: bg      # table
      batch: "witchous"
      auto_depth: true
      pos: [226,7,0]
      quad: [27,167,38,32]
      wall:
        poly: [0,0,38,0,29,12,0,12]
    - type: bg      # table2
      batch: "witchous"
      auto_depth: true
      pos: [104,29,0]
      quad: [4,206,72,36]
      wall:
        poly: [0,0,72,0,72,18,0,18]
    - type: bg      # bed
      batch: "witchous"
      auto_depth: true
      pos: [226,31,0]
      quad: [70,168,60,32]
      wall:
        poly: [0,0,60,0,48,12,0,12]
    - type: bg      # wall
      batch: "witchous"
      pos: [202,0,1]
      quad: [291,167,24,133]
      wall:
        #polyline: [202,51,216,0]
        polyline: [0,51,14,0]
        baseline: True
    - type: bg      # stove
      batch: "witchous"
      pos: [16,34,0]
      quad: [85,204,44,53]
      wall:
        #polyline: [202,51,216,0]
        polyline: [0,0,22,0,40,21]
        baseline: True
#    - type: bg      # tree
#      batch: "witchous"
#      tag: note
#      condition: "game_state.cheese_taken == 0"
#      pos: [82,105,0.1]
#      quad: [5,180,12,12]
#      tag: cheese
#    - type: sprite
#      sprite: 'witchous/cupboard'
#      #auto_depth: true
#      tag: cupboard
#      pos: [70, 95, 0.2]


















wolf:
  batches:
    - "wolf"
  east: goldegg
  west: well
  north: lake3
  south: lake4
  on_start: create_wolf
  walkarea:
    poly: [0,0,316,0,316,160,0,160]
  #walls:
  #  - [66,63,96,63]
  #  - [118,40,144,40]
  #  - [223,63,292,63]
  #  - [205,102,235,102]
  #  - [0,0,318,0,318,120,0,120,0,0]
  scripts:
  items:
    - type: bg
      batch: "wolf"
      pos: [ 0, 0, -1 ]
      quad: [ 0, 0, 316, 166 ]
    - type: bg      # tree
      batch: "wolf"
      auto_depth: true
      pos: [48,63, 0]
      quad: [74,168,106,70]
      wall:
        polyline: [18,0,48,0]
        baseline: True
    - type: bg      # tree
      batch: "wolf"
      auto_depth: true
      pos: [172,102, 0]
      quad: [185,168,106,64]
      wall:
        polyline: [34,0,63,0]
        baseline: True
    - type: bg      # tree
      batch: "wolf"
      auto_depth: true
      pos: [220,63, 0]
      quad: [98,241,80,51]
      wall:
        polyline: [25,0,43,0]
        baseline: True
    - type: bg      # tree
      batch: "wolf"
      auto_depth: true
      pos: [118,41, 0]
      quad: [186,243,38,23]
      wall:
        polyline: [0,0,38,0]
        baseline: True
    - type: bg      # tree
      batch: "wolf"
      auto_depth: true
      pos: [156,49, 0]
      quad: [186,273,36,19]
#    - type: hotspot
#      poly: [315,0,316,0,316,166,315,166]
#      on_enter: ['goto_room', 'egg1', [2, 10], 'e']











#    - type: hotspot
#      aabb: [50, 100, 20, 40]
#      on_enter: pippo
#      on_leave: pippa/
