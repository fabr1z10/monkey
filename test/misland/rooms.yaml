fairy:
  batches:
    - "fairy"

wolf:
  batches:
    - "wolf"
  east: egg1
  on_start: create_wolf
  walls:
    - [66,63,96,63]
    - [118,40,144,40]
    - [223,63,292,63]
    - [205,102,235,102]
    - [0,0,318,0,318,120,0,120,0,0]
  scripts:
  items:
    - type: bg
      batch: "wolf"
      pos: [ 0, 0, -1 ]
      quad: [ 0, 0, 316, 166 ]
    - type: bg      # tree
      batch: "wolf"
      auto_depth: true
      pos: [48,63, 0]
      quad: [74,168,106,70]
    - type: bg      # tree
      batch: "wolf"
      auto_depth: true
      pos: [172,102, 0]
      quad: [185,168,106,64]
    - type: bg      # tree
      batch: "wolf"
      auto_depth: true
      pos: [220,63, 0]
      quad: [98,241,80,51]
    - type: bg      # tree
      batch: "wolf"
      auto_depth: true
      pos: [118,41, 0]
      quad: [186,243,38,23]
    - type: bg      # tree
      batch: "wolf"
      auto_depth: true
      pos: [220,63, 0]
      quad: [98,241,80,51]
    - type: bg      # tree
      batch: "wolf"
      auto_depth: true
      pos: [156,49, 0]
      quad: [186,273,36,19]
#    - type: hotspot
#      poly: [315,0,316,0,316,166,315,166]
#      on_enter: ['goto_room', 'egg1', [2, 10], 'e']

gardene:
  z_func: zfunc1
  batches:
    - "gardenw"
  walls:
    - [316,107,166,107,46,35,64,35,183,107]
  west: goldegg
  scripts:
    look_wall: ['msg', 30]
    look_fence: ['msg', 30]
    look_garden: ['msg', 31]
    look_carrot: ['msg', 32]
    get_carrot: ['pickup', 'carrot', 33, 34]

  items:
    - type: bg
      batch: "gardenw"
      pos: [ 0, 0, -1 ]
      quad: [ 0, 0, 316, 166 ]
    - type: bg      # tree
      batch: "gardenw"
      auto_depth: true
      pos: [44,35, 0]
      quad: [1,167,139,89]
    - type: bg      # tree
      batch: "gardenw"
      auto_depth: true
      pos: [78,79,0]
      quad: [147,168,66,43]
    - type: bg      # tree
      batch: "gardenw"
      auto_depth: true
      pos: [182,107,0]
      quad: [144,217,134,17]
    - type: bg      # tree
      batch: "gardenw"
      pos: [0,92,1]
      quad: [144,235,82,74]
    - type: bg      # tree
      batch: "gardenw"
      pos: [250,123,1]
      quad: [228,235,50,43]

treetop:
  batches:
    - "treetop"
  items:
    - type: bg
      batch: "treetop"
      pos: [ 0, 0, -1 ]
      quad: [ 0, 0, 316, 166 ]
#    - type: hotspot
#      poly: [0,0,316,0,316,1,0,1]
#      on_enter: ['goto_room', 'egg1', [182, 41], 's']
goldegg:
  batches:
    - "goldegg"
  walls:
    - [156,15,209,15,209,7,222,7,245,15,309,15,309,18,156,18,156,15]
  west: wolf
  east: garden
  south: rock
  items:
    - type: bg
      batch: "goldegg"
      pos: [0, 0, -1]
      quad: [0, 0, 316, 166]
    - type: bg      # tree
      batch: "goldegg"
      pos: [130,7, 0.9]
      quad: [128,168,186,159]
  scripts:
    look_tree: ['msg', 18]
    climb_tree: ['climb_tree']
rock:
  batches:
    - "rock"
  east: castle
  north: egg1
  items:
    - type: bg
      batch: "rock"
      pos: [0, 0, -1]
      quad: [0, 0, 316, 166]
    - type: bg      # tree
      batch: "rock"
      auto_depth: true
      pos: [0,0, 0]
      quad: [0,194,64,138]
    - type: bg      # tree
      batch: "rock"
      auto_depth: true
      pos: [130,71, 0]
      quad: [80,195,98,36]
    - type: bg      # tree
      batch: "rock"
      auto_depth: true
      pos: [242,87, 0]
      quad: [194,198,74,79]
    - type: bg
      batch: 'rock'
      auto_depth: True
      quad: [81,237,60,58]
      pos: [120,107,0]
    - type: sprite
      sprite: 'rock/rock'
      auto_depth: true
      tag: rock
      movable: True
      pos: '@rock_pos'

  scripts:
    look_rock: ['msg', 15]
    look_tree: ['msg', 12]
    look_hole: ['switch', 'game_state.rock_moved == 1', ['msg', 14], ['msg', 16]]
    push_rock: ['switch', 'game_state.rock_moved == 0', ['push_rock'], ['msg', 17]]
    get_dagger: ['get_dagger']
    move_rock: ['push_rock']
castle:
  batches:
    - "castle"
  east: start
  west: rock
  north: gardene
  items:
    - type: bg
      batch: "castle"
      pos: [0, 0, -1]
      quad: [0, 0, 316, 166]
  walls:
    - [131, 23, 190,23,192,25,199,25,207,46,247,46,256,25,261,23,314,23]
  scripts:
    look_lion: [ 'msg', 8 ]
    look_castle: [ 'msg', 9 ]
    look_flag: [ 'msg', 10 ]
    look_door: [ 'msg', 11 ]

start:
  room_number: 38
  size: [320, 144]
  batches:
    - "start"
  west: castle
  walls:
    - [265,39,282,39,282,43,265,43,265,39]
    - [0, 21, 10,21, 12, 19, 92, 19, 94, 20, 110, 20, 119, 23, 136, 21,146, 21, 148, 18,160,18,164, 22, 185,22 ]
  items:
    - type: bg
      batch: "start"
      pos: [0, 0, -1]
      quad: [0, 0, 316, 166]
    - type: bg      # tree
      batch: "start"
      auto_depth: true
      pos: [198, 39, 0]
      quad: [86, 167, 118, 127]
    - type: bg      # castle
      batch: "start"
      quad: [208,167, 70,137]
      pos: [118,24,-1]
      auto_depth: True
    - type: sprite
      sprite: 'start/flag1'
      pos: [6,155,0]
    - type: sprite
      sprite: 'start/flag2'
      pos: [36,155,0]
    - type: sprite
      sprite: 'start/flag3'
      pos: [66,155,0]
    - type: hotspot
      poly: [0,0,286,0,286,21,269,28,249,28,236,23,221,8,0,8]
      on_enter: ['drown']
    - type: hotspot
      poly: [184,22,200,36,204,36,176,45]
      on_enter: ['drown2']
#    - type: hotspot
#      poly: [0,8,2,8,2,22,0,22]
#      on_enter: ['goto_room', 'castle', [314, 16], 'e']
  scripts:
    look_tree: ["msg", 7]
    look_castle: ['msg', 4]
    look_flag: ['msg', 5]
    look_banner: ['msg', 5]

#    - type: hotspot
#      aabb: [50, 100, 20, 40]
#      on_enter: pippo
#      on_leave: pippa/
